<Window x:Class="TestTasks.InfoDisplayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Valve Distance Analysis"
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterScreen">
    <StackPanel Margin="15">
        <TextBlock Text="Расстояния между кранами" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>

        <TextBlock Text="{Binding TotalValves, StringFormat='Всего кранов в системе: {0}'}" Margin="0,0,0,10"/>

        <Grid Margin="0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <GroupBox Header="Ближайший кран" Margin="5">
                <StackPanel>
                    <TextBlock Text="{Binding ClosestValve.Valve.Id, StringFormat='Id: {0}'}" Margin="2"/>
                    <TextBlock Text="{Binding ClosestValve.LenghtFromInitial, StringFormat='Расстояние: {0:F2} vv'}" Margin="2"/>
                    <TextBlock Text="Пройденные трубы:" FontWeight="Bold" Margin="2,5,2,0"/>
                    <TextBlock Text="{Binding ClosestValvePipePath}" Margin="2" TextWrapping="Wrap"/>
                </StackPanel>
            </GroupBox>

            <GroupBox Header="Дальнейший кран" Margin="5" Grid.Column="1">
                <StackPanel>
                    <TextBlock Text="{Binding FurthestValve.Valve.Id, StringFormat='Id: {0}'}" Margin="2"/>
                    <TextBlock Text="{Binding FurthestValve.LenghtFromInitial, StringFormat='Расстояние: {0:F2} мм'}" Margin="2"/>
                    <TextBlock Text="Пройденные трубы:" FontWeight="Bold" Margin="2,5,2,0"/>
                    <TextBlock Text="{Binding FurthestValvePipePath}" Margin="2" TextWrapping="Wrap"/>
                </StackPanel>
            </GroupBox>
        </Grid>

        <Button Content="Close" Width="80" Margin="0,15,0,0" 
                HorizontalAlignment="Right" Click="CloseButton_Click"/>
    </StackPanel>
</Window>